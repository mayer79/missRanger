<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Changelog • missRanger</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Changelog"><meta property="og:image" content="/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">missRanger</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.6.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/missRanger.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/multiple_imputation.html">Multiple Imputation</a></li>
    <li><a class="dropdown-item" href="../articles/working_with_censoring.html">Censored Variables</a></li>
  </ul></li>
<li class="active nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/mayer79/missRanger/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-news">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Changelog</h1>
      <small>Source: <a href="https://github.com/mayer79/missRanger/blob/main/NEWS.md" class="external-link"><code>NEWS.md</code></a></small>
    </div>

    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.6.0" id="missranger-260">missRanger 2.6.0<a class="anchor" aria-label="anchor" href="#missranger-260"></a></h2>
<div class="section level4">
<h4 id="major-feature-2-6-0">Major feature<a class="anchor" aria-label="anchor" href="#major-feature-2-6-0"></a></h4>
<p>Out-of-sample application is now possible! Thanks to <a href="https://github.com/jeandigitale" class="external-link">@jeandigitale</a> for pushing the idea in <a href="https://github.com/mayer79/missRanger/issues/58" class="external-link">#58</a>.</p>
<p>This means you can run <code>imp &lt;- missRanger(..., keep_forests = TRUE)</code> and then apply its models to new data via <code>predict(imp, newdata)</code>. The “missRanger” object can be saved/loaded as binary file, e.g, via <code><a href="https://rdrr.io/r/base/readRDS.html" class="external-link">saveRDS()</a></code>/<code><a href="https://rdrr.io/r/base/readRDS.html" class="external-link">readRDS()</a></code> for later use.</p>
<p>Note that out-of-sample imputation works best for rows in <code>newdata</code> with only one missing value (actually counting only missings in variables used as covariates in random forests). We call this the “easy case”. In the “hard case”, even multiple iterations (set by <code>iter</code>) can lead to unsatisfactory results.</p>
<p>The out-of-sample algorithm works as follows:</p>
<ol style="list-style-type: decimal"><li>Impute univariately all relevant columns by randomly drawing values from the original, unimputed data. This step will only impact “hard case” rows.</li>
<li>Replace univariate imputations by predictions of random forests. This is done sequentially over variablse in descending order of number of missings (to minimize the impact of univariate imputations). Optionally, this is followed by predictive mean matching (PMM).</li>
<li>Repeat Step 2 for “hard case” rows multiple times.</li>
</ol></div>
<div class="section level4">
<h4 id="possibly-breaking-changes-2-6-0">Possibly breaking changes<a class="anchor" aria-label="anchor" href="#possibly-breaking-changes-2-6-0"></a></h4>
<ul><li>Columns of special type like date/time can’t be imputed anymore. You will need to convert them to numeric before imputation.</li>
<li>
<code><a href="../reference/pmm.html">pmm()</a></code> is more picky: <code>xtrain</code> and <code>xtest</code> must both be either numeric, logical, or factor (with identical levels).</li>
</ul></div>
<div class="section level4">
<h4 id="minor-changes-in-output-object-2-6-0">Minor changes in output object<a class="anchor" aria-label="anchor" href="#minor-changes-in-output-object-2-6-0"></a></h4>
<ul><li>Add original data as <code>data_raw</code>.</li>
<li>Renamed <code>visit_seq</code> to <code>to_impute</code>.</li>
</ul></div>
<div class="section level4">
<h4 id="other-changes-2-6-0">Other changes<a class="anchor" aria-label="anchor" href="#other-changes-2-6-0"></a></h4>
<ul><li>Now requires ranger &gt;= 0.16.0.</li>
<li>More compact vignettes.</li>
<li>Better examples and README.</li>
<li>Many relevant <code>ranger()</code> arguments are now explicit arguments in <code><a href="../reference/missRanger.html">missRanger()</a></code> to improve tab-completion experience:
<ul><li>num.trees = 500</li>
<li>mtry = NULL</li>
<li>min.node.size = NULL</li>
<li>min.bucket = NULL</li>
<li>max.depth = NULL</li>
<li>replace = TRUE</li>
<li>sample.fraction = if (replace) 1 else 0.632</li>
<li>case.weights = NULL</li>
<li>num.threads = NULL</li>
<li>save.memory = FALSE</li>
</ul></li>
<li>For variables that can’t be used, more information is printed.</li>
<li>If <code>keep_forests = TRUE</code>, the argument <code>data_only</code> is set to <code>FALSE</code> by default.</li>
<li>“missRanger” object now stores <code>pmm.k</code>.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.5.0" id="missranger-250">missRanger 2.5.0<a class="anchor" aria-label="anchor" href="#missranger-250"></a></h2><p class="text-muted">CRAN release: 2024-07-12</p>
<div class="section level4">
<h4 id="bug-fixes-2-5-0">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-2-5-0"></a></h4>
<ul><li>Since Release 2.3.0, unintentionally, negative formula terms haven’t been dropped, see <a href="https://github.com/mayer79/missRanger/issues/62" class="external-link">#62</a>. This is fixed now.</li>
</ul></div>
<div class="section level4">
<h4 id="enhancements-2-5-0">Enhancements<a class="anchor" aria-label="anchor" href="#enhancements-2-5-0"></a></h4>
<ul><li>The vignette on multiple imputations has been revised, and a larger number of donors in predictive mean matching is being used in the example.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.4.0" id="missranger-240">missRanger 2.4.0<a class="anchor" aria-label="anchor" href="#missranger-240"></a></h2><p class="text-muted">CRAN release: 2023-11-19</p>
<div class="section level4">
<h4 id="future-output-api-2-4-0">Future Output API<a class="anchor" aria-label="anchor" href="#future-output-api-2-4-0"></a></h4>
<ul><li>New argument <code>data_only = TRUE</code> to control if only the imputed data should be returned (default), or an object of class “missRanger”. This object contains the imputed data and infos like OOB prediction errors, fixing <a href="https://github.com/mayer79/missRanger/issues/28" class="external-link">#28</a>. The value <code>FALSE</code> will later becoming the default in {missRanger 3.0.0}. This will be announced via deprecation cycle.</li>
</ul></div>
<div class="section level4">
<h4 id="enhancements-2-4-0">Enhancements<a class="anchor" aria-label="anchor" href="#enhancements-2-4-0"></a></h4>
<ul><li>New argument <code>keep_forests = FALSE</code>. Should the random forests of the best iteration (the one that generated the final imputed data) be added to the “missRanger” object? Note that this will use a lot of memory. Only relevant if <code>data_only = FALSE</code>. This solves <a href="https://github.com/mayer79/missRanger/issues/54" class="external-link">#54</a>.</li>
</ul></div>
<div class="section level4">
<h4 id="bug-fixes-2-4-0">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-2-4-0"></a></h4>
<ul><li>In case the algorithm did not converge, the data of the <em>last</em> iteration was returned instead of the current one. This has been fixed.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.3.0" id="missranger-230">missRanger 2.3.0<a class="anchor" aria-label="anchor" href="#missranger-230"></a></h2><p class="text-muted">CRAN release: 2023-10-20</p>
<div class="section level4">
<h4 id="major-improvements-2-3-0">Major improvements<a class="anchor" aria-label="anchor" href="#major-improvements-2-3-0"></a></h4>
<ul><li>
<code><a href="../reference/missRanger.html">missRanger()</a></code> now works with syntactically wrong variable names like “1bad:variable”. This solves an <a href="https://github.com/mayer79/missRanger/issues/19" class="external-link">old issue</a>, recently popping up in <a href="https://github.com/mayer79/missRanger/issues/51" class="external-link">this new issue</a>.</li>
<li>
<code><a href="../reference/missRanger.html">missRanger()</a></code> now works with any number of features, as long as the formula is left at its default, i.e., <code>. ~ .</code>. This solves this <a href="https://github.com/mayer79/missRanger/issues/50" class="external-link">issue</a>.</li>
</ul></div>
<div class="section level4">
<h4 id="other-changes-2-3-0">Other changes<a class="anchor" aria-label="anchor" href="#other-changes-2-3-0"></a></h4>
<ul><li>Documentation improvement.</li>
<li>
<code>ranger()</code> is now called via the x/y interface, not the formula interface anymore.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.2.1" id="missranger-221">missRanger 2.2.1<a class="anchor" aria-label="anchor" href="#missranger-221"></a></h2><p class="text-muted">CRAN release: 2023-04-28</p>
<ul><li>Switch from <code>importFrom</code> to <code>::</code> code style</li>
<li>Documentation improved</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.2.0" id="missranger-220">missRanger 2.2.0<a class="anchor" aria-label="anchor" href="#missranger-220"></a></h2><p class="text-muted">CRAN release: 2023-03-24</p>
<div class="section level4">
<h4 id="less-dependencies-2-2-0">Less dependencies<a class="anchor" aria-label="anchor" href="#less-dependencies-2-2-0"></a></h4>
<ul><li>Removed {mice} from “suggested” packages.</li>
<li>Removed {dplyr} from “suggested” packages.</li>
<li>Removed {survival} from “suggested” packages.</li>
</ul></div>
<div class="section level4">
<h4 id="maintenance-2-2-0">Maintenance<a class="anchor" aria-label="anchor" href="#maintenance-2-2-0"></a></h4>
<ul><li>Adding Github pages.</li>
<li>Introduction of Github actions.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.1.5" id="missranger-215-not-on-cran">missRanger 2.1.5 (not on CRAN)<a class="anchor" aria-label="anchor" href="#missranger-215-not-on-cran"></a></h2>
<p>Maintenance release,</p>
<ul><li>switching to testthat 3,</li>
<li>changing the package structure, and</li>
<li>bringing vignettes into right order.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.1.4" id="missranger-214-not-on-cran">missRanger 2.1.4 (not on CRAN)<a class="anchor" aria-label="anchor" href="#missranger-214-not-on-cran"></a></h2>
<div class="section level4">
<h4 id="minor-changes-2-1-4">Minor changes<a class="anchor" aria-label="anchor" href="#minor-changes-2-1-4"></a></h4>
<ul><li>Now using progress bar instead of “.” to show progress (when verbose = 1).</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.1.2" id="missranger-212-and-213">missRanger 2.1.2 and 2.1.3<a class="anchor" aria-label="anchor" href="#missranger-212-and-213"></a></h2>
<div class="section level4">
<h4 id="maintenance-update-2-1-2">Maintenance update<a class="anchor" aria-label="anchor" href="#maintenance-update-2-1-2"></a></h4>
<ul><li>Fixing failing unit tests.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.1.1" id="missranger-211">missRanger 2.1.1<a class="anchor" aria-label="anchor" href="#missranger-211"></a></h2><p class="text-muted">CRAN release: 2021-03-20</p>
<div class="section level4">
<h4 id="minor-changes-2-1-1">Minor changes<a class="anchor" aria-label="anchor" href="#minor-changes-2-1-1"></a></h4>
<ul><li>Allow the use of “mtry” as suggested by Thomas Lumley. Recommended values are NULL (default), 1 or a function of the number of covariables m, e.g. <code>mtry = function(m) max(1, m %/% 3)</code>. Keep in mind that <code><a href="../reference/missRanger.html">missRanger()</a></code> might use a growing set of covariables in the first iteration of the process, so passing <code>mtry = 2</code> might result in an error.</li>
</ul></div>
<div class="section level4">
<h4 id="documentation-2-1-1">Documentation<a class="anchor" aria-label="anchor" href="#documentation-2-1-1"></a></h4>
<ul><li>Improved help pages.</li>
<li>Splitted long vignette into three shorter ones.</li>
</ul></div>
<div class="section level4">
<h4 id="other-2-1-1">Other<a class="anchor" aria-label="anchor" href="#other-2-1-1"></a></h4>
<ul><li>Added unit tests.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.1.0" id="missranger-210">missRanger 2.1.0<a class="anchor" aria-label="anchor" href="#missranger-210"></a></h2><p class="text-muted">CRAN release: 2019-06-30</p>
<p>This is a summary of all changes since version 1.x.x.</p>
<div class="section level4">
<h4 id="major-changes-2-1-0">Major changes<a class="anchor" aria-label="anchor" href="#major-changes-2-1-0"></a></h4>
<ul><li><p><code>missRanger</code> now also imputes and uses logical variables, character variables and further variables of mode numeric like dates and times.</p></li>
<li>
<p>Added formula interface to specify which variables to impute (those on the left hand side) and those used to do so (those on the right hand side). Here some (pseudo) examples:</p>
<ul><li><p><code>. ~ .</code> (default): Use all variables to impute all variables. Note that only those with missing values will be imputed. Variables without missings will only be used to impute others.</p></li>
<li><p><code>. ~ . - ID</code>: Use all variables except <code>ID</code> to impute all missing values.</p></li>
<li><p><code>Species ~ Sepal.Width</code>: Use <code>Sepal.Width</code> to impute <code>Species</code>. Only works if <code>Sepal.Width</code> does not contain missing values. (Add it to the right hand side if it does.)</p></li>
<li><p><code>Species + Sepal.Length ~ Species + Petal.Length</code>: Use <code>Species</code> and <code>Petal.Length</code> to impute <code>Species</code> and <code>Sepal.Length</code>. Only works if <code>Petal.Length</code> does not contain missing values because it does not appear on the left hand side and is therefore not imputed itself.</p></li>
<li><p><code>. ~ 1</code>: Univariate imputation for all relevant columns (as nothing is selected on the right hand side).</p></li>
</ul></li>
<li><p>The first argument of <code>generateNA</code> is called <code>x</code> instead of <code>data</code> in consistency with <code>imputeUnivariate</code>.</p></li>
<li><p><code>imputeUnivariate</code> now also works for data frames and matrices.</p></li>
<li><p>In PMM mode, <code>missRanger</code> relies on OOB predictions. The smaller the value of <code>num.trees</code>, the higher the risk of missing OOB predictions, which caused an error in PMM. Now, <code>pmm</code> allows for missing values in <code>xtrain</code> or <code>ytrain</code>. Thus, the algorithm will even work with <code>num.trees = 1</code>. This will be useful to impute large data sets with PMM.</p></li>
</ul></div>
<div class="section level4">
<h4 id="minor-changes-2-1-0">Minor changes<a class="anchor" aria-label="anchor" href="#minor-changes-2-1-0"></a></h4>
<ul><li><p>The function <code>imputeUnivariate</code> has received a <code>seed</code> argument.</p></li>
<li><p>The function <code>imputeUnivariate</code> has received a <code>v</code> argument, specifying columns to impute.</p></li>
<li><p>The function <code>generateNA</code> offers now the possibility to use different proportions of missings for each column.</p></li>
<li><p>If <code>verbose</code> is not 0, then <code>missRanger</code> will show which variables will be imputed in which order and which variables will be used for imputation.</p></li>
</ul></div>
<div class="section level4">
<h4 id="minor-bug-fix-2-1-0">Minor bug fix<a class="anchor" aria-label="anchor" href="#minor-bug-fix-2-1-0"></a></h4>
<ul><li>The argument <code>returnOOB</code> is now effectively controlling if out-of-bag errors are attached as attribute “oob” to the resulting data frame or not. So far, it was always attached.</li>
</ul></div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Michael Mayer.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer></div>





  </body></html>

